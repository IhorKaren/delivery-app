"use strict";(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[293],{8293:function(e,n,r){r.r(n),r.d(n,{default:function(){return $}});var t,a,i,s,o,l,d,u,c,p=r(5861),m=r(9439),x=r(4687),f=r.n(x),h=r(2791),v=r(7993),Z=r(5985),g=r(184),b=function(e){var n=e.onClick,r=(0,h.useState)(null),t=(0,m.Z)(r,2),a=t[0],i=t[1];return(0,g.jsx)(v.b6,{zoom:13,center:a||{lat:50.4501,lng:30.5234},mapContainerStyle:{width:"500px",height:"400px",borderRadius:"12px 12px 0px 0px"},onClick:function(e){var r=e.latLng,t=r.lat,a=r.lng,s=t(),o=a();i({lat:s,lng:o}),n(e)},children:a&&(0,g.jsx)(v.Jx,{position:a})})},y=r(3883),j=r(9434),k=r(2520),C=r(1243),S=function(){var e=(0,p.Z)(f().mark((function e(n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.Z.post("https://burgerbackend.herokuapp.com/orders",n);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),_=S,w=r(1413),A=r(5987),P=(r(5462),r(4695)),q=r(6727),B=r(1134),T=r(168),z=r(7691),E=z.ZP.div(t||(t=(0,T.Z)(["\n  position: absolute;\n  bottom: 240px;\n  left: 10px;\n"]))),I=function(){var e=(0,j.v9)(k.dv);return(0,g.jsxs)(E,{children:["Total price: ",e.reduce((function(e,n){return e+n.quantity*n.price}),0)]})},L=r(7601),N=r(4281),J=z.ZP.form(a||(a=(0,T.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 70px;\n  padding: 10px;\n"]))),R=z.ZP.div(i||(i=(0,T.Z)(["\n  position: relative;\n"]))),D=(0,z.ZP)(L.Z)(s||(s=(0,T.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n"]))),M=(0,z.ZP)(N.Z)(o||(o=(0,T.Z)(["\n  margin-left: auto;\n  padding: 8px 12px;\n  border-radius: 10px;\n  font-size: 16px;\n\n  color: black;\n  border: 1px solid black;\n"]))),V=r(2930),F=["ref"],G=q.Ry().shape({name:q.Z_().required("Name is required!"),email:q.Z_().required("Email is required!"),phone:q.Z_().required("Number is required!").min(7,"Number must be at least 7 digits").max(16,"Number must not exceed 16 digits"),address:q.Z_().required("Address is required!")}),H=function(e){var n,r,t,a,i=e.formSubmit,s=e.initialAddress,o=e.children,l=(0,h.useState)(""),d=(0,m.Z)(l,2),u=d[0],c=d[1],p=(0,j.v9)(k.dv),x=(0,B.cI)({resolver:(0,P.X)(G)}),f=x.register,v=x.handleSubmit,Z=x.reset,b=x.formState.errors,y=x.setValue,C=x.control,S=(0,B.bc)({name:"address",control:C,defaultValue:s||""}).field,_=S.ref,q=(0,A.Z)(S,F);(0,h.useEffect)((function(){c(s||"")}),[s]),(0,h.useEffect)((function(){y("address",u)}),[u,y]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(J,{onSubmit:v((function(e,n){i({name:e.name,number:e.phone,email:e.email,address:e.address,order:p}),c(""),Z()})),children:[(0,g.jsx)(R,{children:(0,g.jsx)(D,(0,w.Z)((0,w.Z)({variant:"standard",label:"Name",type:"text"},f("name")),{},{error:Boolean(b.name),helperText:null===(n=b.name)||void 0===n?void 0:n.message}))}),(0,g.jsx)(R,{children:(0,g.jsx)(D,(0,w.Z)((0,w.Z)({variant:"standard",label:"Email",type:"email"},f("email")),{},{error:Boolean(b.email),helperText:null===(r=b.email)||void 0===r?void 0:r.message}))}),(0,g.jsx)(R,{children:(0,g.jsx)(D,(0,w.Z)((0,w.Z)({variant:"standard",label:"Phone",type:"tel"},f("phone")),{},{error:Boolean(b.phone),helperText:null===(t=b.phone)||void 0===t?void 0:t.message}))}),(0,g.jsx)(R,{children:(0,g.jsx)(D,(0,w.Z)((0,w.Z)((0,w.Z)({variant:"standard",label:"Address",type:"text"},q),{},{inputRef:_},(0,V.Z)()),{},{error:Boolean(b.address),helperText:null===(a=b.address)||void 0===a?void 0:a.message}))}),(0,g.jsx)(M,{variant:"outlined",type:"submit",children:"Submit"}),o]}),(0,g.jsx)(I,{})]})},K=function(e){var n=e.array,r=e.onChange,t=e.onClick;return(0,g.jsx)(g.Fragment,{children:n.map((function(e){return(0,g.jsxs)("li",{children:[(0,g.jsx)("img",{src:"https://s7d1.scene7.com/is/image/mcdonalds/".concat(e.img_path),width:"240",alt:e.name}),(0,g.jsx)("h3",{children:e.name}),(0,g.jsxs)("p",{children:["Price: ",e.price*e.quantity]}),(0,g.jsx)("input",{type:"number",defaultValue:"1",onChange:function(n){return r(n,e._id)}}),(0,g.jsx)("button",{type:"button",onClick:function(){return t(e._id)},children:"Remove"})]},e._id)}))})},U=z.ZP.div(l||(l=(0,T.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-left: 50px;\n"]))),W=z.ZP.ul(d||(d=(0,T.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  padding: 15px;\n  list-style: none;\n"]))),X=function(e){var n=e.array,r=e.onChange,t=e.onClick;return(0,g.jsx)(U,{children:(0,g.jsx)(W,{children:(0,g.jsx)(K,{array:n,onChange:r,onClick:t})})})},O=r(854),Q=z.ZP.section(u||(u=(0,T.Z)(["\n  display: flex;\n"]))),Y=z.ZP.div(c||(c=(0,T.Z)(["\n  display: flex;\n  height: 100vh;\n  position: relative;\n  flex-direction: column;\n  border: 2px solid black;\n  border-radius: 10px;\n"]))),$=function(){var e=(0,h.useState)(""),n=(0,m.Z)(e,2),r=n[0],t=n[1],a=(0,j.v9)(k.dv),i=(0,j.I0)(),s=(0,v.Db)({googleMapsApiKey:"AIzaSyAZv5czqJS_HE97JG_DlvnmPj5BdMU_8S8"}).isLoaded,o=function(){var e=(0,p.Z)(f().mark((function e(n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==n.order.length){e.next=4;break}return Z.Am.error("To submit an order, you must add the item to your shopping cart."),e.abrupt("return");case 4:return e.next=6,_(n);case 6:Z.Am.success("Thank you, your order has been processed."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsxs)(Q,{children:[(0,g.jsxs)(Y,{children:[s?(0,g.jsx)(b,{onClick:function(e){y.Z.setApiKey("AIzaSyAZv5czqJS_HE97JG_DlvnmPj5BdMU_8S8");var n=e.latLng,r=n.lat,a=n.lng;y.Z.fromLatLng(r(),a()).then((function(e){var n=e.results[0].formatted_address;t(n)})).catch((function(e){console.error(e)}))},address:r}):(0,g.jsx)(O.Z,{}),(0,g.jsx)(H,{formSubmit:o,initialAddress:r})]}),(0,g.jsx)(X,{array:a,onChange:function(e,n){if(0===Number(e.target.value))return e.target.value="1";i((0,k.x)({id:n,value:e.target.value}))},onClick:function(e){i((0,k.cl)(e)),Z.Am.info("Item removed from cart")},address:r}),(0,g.jsx)(Z.Ix,{autoClose:2e3})]})}},854:function(e,n,r){r.d(n,{Z:function(){return i}});var t=r(5243),a=r(184);function i(){return(0,a.jsx)(t.iT,{height:100,width:100,color:"RoyalBlue",wrapperStyle:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"SkyBlue",strokeWidth:2,strokeWidthSecondary:2})}}}]);
//# sourceMappingURL=293.270d7404.chunk.js.map