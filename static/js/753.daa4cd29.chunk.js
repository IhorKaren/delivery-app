"use strict";(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[753],{1753:function(e,n,r){r.r(n),r.d(n,{default:function(){return B}});var t,i,a,s,o,d,l,u,c,p=r(5861),m=r(9439),x=r(4687),h=r.n(x),f=r(2791),v=r(7993),g=r(9085),b=r(184),j=function(e){var n=e.onClick,r=(0,f.useState)(null),t=(0,m.Z)(r,2),i=t[0],a=t[1];return(0,b.jsx)(v.b6,{zoom:13,center:{lat:50.4501,lng:30.5234},mapContainerStyle:{width:"500px",height:"400px",marginTop:"35px",marginRight:"30px"},onClick:function(e){var r=e.latLng,t=r.lat,i=r.lng,s=t(),o=i();a({lat:s,lng:o}),n(e)},children:i&&(0,b.jsx)(v.Jx,{position:i})})},_=r(3883),y=r(9434),Z=r(2520),S=r(1243),C=function(){var e=(0,p.Z)(h().mark((function e(n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.Z.post("https://burgerbackend.herokuapp.com/orders",n);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),E=C,P=r(168),k=r(6444),A=k.ZP.section(t||(t=(0,P.Z)(["\n  display: flex;\n  padding-top: 60px;\n"]))),T=r(1413),O=(r(5462),r(4695)),w=r(6727),R=r(1134),F=(0,k.F4)(i||(i=(0,P.Z)(["\n  from {\n    opacity: 0;\n    transform: translateX(-25px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),L=k.ZP.form(a||(a=(0,P.Z)(["\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 24px;\n  margin-top: 10px;\n"]))),q=k.ZP.label(s||(s=(0,P.Z)(["\n  display: block;\n  margin-right: auto;\n"]))),K=k.ZP.input(o||(o=(0,P.Z)(["\n  display: flex;\n  width: 230px;\n  padding: 10px;\n  border-radius: 10px;\n  border: 1px solid #ccc;\n\n  &:focus {\n    outline: none;\n    border-color: #00aeef;\n  }\n"]))),N=k.ZP.div(d||(d=(0,P.Z)(["\n  position: absolute;\n  color: red;\n  animation: "," 500ms ease-in-out;\n"])),F),D=k.ZP.button(l||(l=(0,P.Z)(["\n  background-color: #00aeef;\n  color: white;\n  padding: 8px 12px;\n  border-radius: 10px;\n  font-size: 16px;\n  border: none;\n  &:hover {\n    background-color: #0077b5;\n  }\n"]))),I=w.Ry().shape({name:w.Z_().required("Name is required!"),email:w.Z_().required("Email is required!"),phone:w.Z_().required("Number is required!").min(7,"Number must be at least 7 digits").max(16,"Number must not exceed 16 digits"),address:w.Z_().required("Address is required!")}),H=function(e){var n,r,t,i,a=e.formSubmit,s=e.initialAddress,o=e.children,d=(0,f.useState)(""),l=(0,m.Z)(d,2),u=l[0],c=l[1],p=(0,y.v9)(Z.dv),x=(0,R.cI)({resolver:(0,O.X)(I)}),h=x.register,v=x.handleSubmit,g=x.reset,j=x.formState.errors,_=x.setValue;(0,f.useEffect)((function(){c(s||"")}),[s]),(0,f.useEffect)((function(){_("address",u)}),[u,_]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(L,{onSubmit:v((function(e,n){a({name:e.name,number:e.phone,email:e.email,address:e.address,order:p}),c(""),g()})),children:[(0,b.jsx)("div",{children:(0,b.jsxs)(q,{htmlFor:"name",children:["Name:",(0,b.jsx)(K,(0,T.Z)({type:"text"},h("name"))),j.name&&(0,b.jsx)(N,{children:null===(n=j.name)||void 0===n?void 0:n.message})]})}),(0,b.jsx)("div",{children:(0,b.jsxs)(q,{htmlFor:"email",children:["Email:",(0,b.jsx)(K,(0,T.Z)({type:"email"},h("email"))),j.email&&(0,b.jsx)(N,{children:null===(r=j.email)||void 0===r?void 0:r.message})]})}),(0,b.jsx)("div",{children:(0,b.jsxs)(q,{htmlFor:"phone",children:["Phone:",(0,b.jsx)(K,(0,T.Z)({type:"tel"},h("phone"))),j.phone&&(0,b.jsx)(N,{children:null===(t=j.phone)||void 0===t?void 0:t.message})]})}),(0,b.jsx)("div",{children:(0,b.jsxs)(q,{htmlFor:"address",children:["Address:",(0,b.jsx)(K,(0,T.Z)({type:"text",defaultValue:s,onChange:function(e){c(e.target.value)}},h("address"))),j.address&&(0,b.jsx)(N,{children:null===(i=j.address)||void 0===i?void 0:i.message})]})}),(0,b.jsx)(D,{type:"submit",children:"Submit"}),o]})})},W=r(422),V=function(e){var n=e.array,r=e.onChange,t=e.onClick;return(0,b.jsx)(b.Fragment,{children:n.map((function(e){return(0,b.jsxs)("li",{children:[(0,b.jsx)("img",{src:W,width:"300",alt:""}),(0,b.jsx)("h3",{children:e.name}),(0,b.jsxs)("p",{children:["Price: ",e.price*e.quantity]}),(0,b.jsx)("input",{type:"number",defaultValue:"1",onChange:function(n){return r(n,e._id)}}),(0,b.jsx)("button",{type:"button",onClick:function(){return t(e._id)},children:"Remove"})]},e._id)}))})},G=k.ZP.div(u||(u=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-left: 50px;\n"]))),U=k.ZP.ul(c||(c=(0,P.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  padding: 15px;\n  list-style: none;\n"]))),M=function(e){var n=e.array,r=e.onChange,t=e.onClick;return(0,b.jsx)(G,{children:(0,b.jsx)(U,{children:(0,b.jsx)(V,{array:n,onChange:r,onClick:t})})})},Y=function(){var e=(0,y.v9)(Z.dv);return(0,b.jsxs)("div",{children:["Total price: ",e.reduce((function(e,n){return e+n.quantity*n.price}),0)]})},z=r(966),B=function(){var e=(0,f.useState)(""),n=(0,m.Z)(e,2),r=n[0],t=n[1],i=(0,y.v9)(Z.dv),a=(0,y.I0)(),s=(0,v.Db)({googleMapsApiKey:{NODE_ENV:"production",PUBLIC_URL:"/delivery-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAPS_API_KEY}).isLoaded,o=function(){var e=(0,p.Z)(h().mark((function e(n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==n.order.length){e.next=4;break}return g.Am.error("To submit an order, you must add the item to your shopping cart."),e.abrupt("return");case 4:return e.next=6,E(n);case 6:g.Am.success("Thank you, your order has been processed."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,b.jsxs)(A,{children:[(0,b.jsxs)("div",{children:[s?(0,b.jsx)(j,{onClick:function(e){_.Z.setApiKey({NODE_ENV:"production",PUBLIC_URL:"/delivery-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAPS_API_KEY);var n=e.latLng,r=n.lat,i=n.lng;_.Z.fromLatLng(r(),i()).then((function(e){var n=e.results[0].formatted_address;t(n)})).catch((function(e){console.error(e)}))},address:r}):(0,b.jsx)(z.Z,{}),(0,b.jsx)(H,{formSubmit:o,initialAddress:r,children:(0,b.jsx)(Y,{})})]}),(0,b.jsx)(M,{array:i,onChange:function(e,n){if(0===Number(e.target.value))return e.target.value="1";a((0,Z.x)({id:n,value:e.target.value}))},onClick:function(e){a((0,Z.cl)(e)),g.Am.info("Item removed from cart")},address:r}),(0,b.jsx)(g.Ix,{autoClose:2e3})]})}},422:function(e,n,r){e.exports=r.p+"static/media/default-image.1a0b38a162899fecfc21.webp"}}]);
//# sourceMappingURL=753.daa4cd29.chunk.js.map